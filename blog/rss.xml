<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>ESBoot Blog</title>
        <link>https://esboot.js.org/blog</link>
        <description>ESBoot Blog</description>
        <lastBuildDate>Wed, 18 Sep 2024 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[ESBoot 3]]></title>
            <link>https://esboot.js.org/blog/esboot-3</link>
            <guid>https://esboot.js.org/blog/esboot-3</guid>
            <pubDate>Wed, 18 Sep 2024 00:00:00 GMT</pubDate>
            <description><![CDATA[Release ESBoot 3 note!]]></description>
            <content:encoded><![CDATA[<p>Release ESBoot 3 note!</p>
<h2 class="anchor anchorWithStickyNavbar_uiRs" id="更新了什么">更新了什么<a href="https://esboot.js.org/blog/esboot-3#%E6%9B%B4%E6%96%B0%E4%BA%86%E4%BB%80%E4%B9%88" class="hash-link" aria-label="Direct link to 更新了什么" title="Direct link to 更新了什么">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="重构代码">重构代码<a href="https://esboot.js.org/blog/esboot-3#%E9%87%8D%E6%9E%84%E4%BB%A3%E7%A0%81" class="hash-link" aria-label="Direct link to 重构代码" title="Direct link to 重构代码">​</a></h3>
<ul>
<li>更有扩展性的架构。</li>
<li>优化代码。</li>
<li>重构plugin机制。</li>
<li>添加更多feature。</li>
<li>根据v2经验移除部分过时feature。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="支持多bundler">支持多Bundler<a href="https://esboot.js.org/blog/esboot-3#%E6%94%AF%E6%8C%81%E5%A4%9Abundler" class="hash-link" aria-label="Direct link to 支持多Bundler" title="Direct link to 支持多Bundler">​</a></h3>
<ul>
<li>webpack的存档。</li>
<li>vite占有率的提升。</li>
<li>rust基建的兴起。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="更新部分依赖到最新的稳定版本">更新部分依赖到最新的稳定版本<a href="https://esboot.js.org/blog/esboot-3#%E6%9B%B4%E6%96%B0%E9%83%A8%E5%88%86%E4%BE%9D%E8%B5%96%E5%88%B0%E6%9C%80%E6%96%B0%E7%9A%84%E7%A8%B3%E5%AE%9A%E7%89%88%E6%9C%AC" class="hash-link" aria-label="Direct link to 更新部分依赖到最新的稳定版本" title="Direct link to 更新部分依赖到最新的稳定版本">​</a></h3>
<p>一年一更新，锁死版本。</p>
<h2 class="anchor anchorWithStickyNavbar_uiRs" id="更合理的代码结构">更合理的代码结构<a href="https://esboot.js.org/blog/esboot-3#%E6%9B%B4%E5%90%88%E7%90%86%E7%9A%84%E4%BB%A3%E7%A0%81%E7%BB%93%E6%9E%84" class="hash-link" aria-label="Direct link to 更合理的代码结构" title="Direct link to 更合理的代码结构">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="packages">packages<a href="https://esboot.js.org/blog/esboot-3#packages" class="hash-link" aria-label="Direct link to packages" title="Direct link to packages">​</a></h3>
<div class="language-sh codeBlockContainer_z_qO theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_stqI"><pre tabindex="0" class="prism-code language-sh codeBlock_AYMj thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xMUx"><span class="token-line" style="color:#393A34"><span class="token builtin class-name">.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── bundler-common</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── bundler-rspack</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── bundler-vite</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── bundler-webpack</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── common</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── esboot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── esboot-browser</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── eslint-plugin-esboot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── lint</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">├── plugin-vitest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└── vscode-extension-esboot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">12</span><span class="token plain"> directories.</span><br></span></code></pre><div class="buttonGroup_tJSQ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_d5hY" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_NvF3"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Wfrf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="bundlers">Bundlers<a href="https://esboot.js.org/blog/esboot-3#bundlers" class="hash-link" aria-label="Direct link to Bundlers" title="Direct link to Bundlers">​</a></h3>
<ul>
<li><code>bundler-common</code>: Bundler通用工具</li>
<li><code>bundler-rspack</code>: Bundler Rspack</li>
<li><code>bundler-vite</code>: Bundler Vite</li>
<li><code>bundler-webpack</code>: Bundler Webpack</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="esboot">ESBoot<a href="https://esboot.js.org/blog/esboot-3#esboot" class="hash-link" aria-label="Direct link to ESBoot" title="Direct link to ESBoot">​</a></h3>
<ul>
<li><code>common</code>: esboot通用工具</li>
<li><code>esboot</code>: 入口，注册cli，调用bundler</li>
<li><code>esboot-browser</code>: 浏览器端工具</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="lint">Lint<a href="https://esboot.js.org/blog/esboot-3#lint" class="hash-link" aria-label="Direct link to Lint" title="Direct link to Lint">​</a></h3>
<ul>
<li><code>eslint-plugin-esboot</code>: eslint插件</li>
<li><code>lint</code>: lint相关</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="plugin">Plugin<a href="https://esboot.js.org/blog/esboot-3#plugin" class="hash-link" aria-label="Direct link to Plugin" title="Direct link to Plugin">​</a></h3>
<ul>
<li><code>plugin-vitest</code>: vitest插件</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="other-tools">Other Tools<a href="https://esboot.js.org/blog/esboot-3#other-tools" class="hash-link" aria-label="Direct link to Other Tools" title="Direct link to Other Tools">​</a></h3>
<ul>
<li><code>vscode-extension-esboot</code>: vscode插件</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_uiRs" id="bundler">Bundler<a href="https://esboot.js.org/blog/esboot-3#bundler" class="hash-link" aria-label="Direct link to Bundler" title="Direct link to Bundler">​</a></h2>
<p>分析出一套常用的config，自定义配置使用<code>customConfig</code>。</p>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="webpack">webpack<a href="https://esboot.js.org/blog/esboot-3#webpack" class="hash-link" aria-label="Direct link to webpack" title="Direct link to webpack">​</a></h3>
<p><code>100%</code></p>
<ul>
<li>实现v2的所有功能。</li>
<li>重新实现<code>langjsonpick</code>。</li>
<li>放弃<code>webpack-chain</code>。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="vite">vite<a href="https://esboot.js.org/blog/esboot-3#vite" class="hash-link" aria-label="Direct link to vite" title="Direct link to vite">​</a></h3>
<p><code>80%</code></p>
<ul>
<li>支持SPA</li>
<li>支持<code>styleName</code></li>
<li>平滑支持webapck配置。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="rspack">rspack<a href="https://esboot.js.org/blog/esboot-3#rspack" class="hash-link" aria-label="Direct link to rspack" title="Direct link to rspack">​</a></h3>
<ul>
<li>开发10%</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_uiRs" id="项目文档">项目文档<a href="https://esboot.js.org/blog/esboot-3#%E9%A1%B9%E7%9B%AE%E6%96%87%E6%A1%A3" class="hash-link" aria-label="Direct link to 项目文档" title="Direct link to 项目文档">​</a></h2>
<ul>
<li>基于v2 doc的使用设计为更简洁的doc设计。</li>
<li>更好看的主题。</li>
<li>添加changelog支持。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_uiRs" id="esboot-browser">ESBoot Browser<a href="https://esboot.js.org/blog/esboot-3#esboot-browser" class="hash-link" aria-label="Direct link to ESBoot Browser" title="Direct link to ESBoot Browser">​</a></h2>
<p>增加<code>esboot-browser</code>包，封装常用的浏览器端工具。</p>
<h2 class="anchor anchorWithStickyNavbar_uiRs" id="esboot-文档更新">ESBoot 文档更新<a href="https://esboot.js.org/blog/esboot-3#esboot-%E6%96%87%E6%A1%A3%E6%9B%B4%E6%96%B0" class="hash-link" aria-label="Direct link to ESBoot 文档更新" title="Direct link to ESBoot 文档更新">​</a></h2>
<ul>
<li>更合理的文档结构。</li>
<li>补充更多文档。</li>
<li>优先讲述ESBoot的立意。</li>
<li>添加最佳实践</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_uiRs" id="依赖更新">依赖更新<a href="https://esboot.js.org/blog/esboot-3#%E4%BE%9D%E8%B5%96%E6%9B%B4%E6%96%B0" class="hash-link" aria-label="Direct link to 依赖更新" title="Direct link to 依赖更新">​</a></h2>
<p>只记录大版本更新。</p>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="commander">commander<a href="https://esboot.js.org/blog/esboot-3#commander" class="hash-link" aria-label="Direct link to commander" title="Direct link to commander">​</a></h3>
<ul>
<li><code>Command 11.0.0 =&gt; 12.0.0</code></li>
</ul>
<p><a href="https://github.com/tj/commander.js/releases/tag/v12.0.0" target="_blank" rel="noopener noreferrer">https://github.com/tj/commander.js/releases/tag/v12.0.0</a></p>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="webpack-dev-server">webpack-dev-server<a href="https://esboot.js.org/blog/esboot-3#webpack-dev-server" class="hash-link" aria-label="Direct link to webpack-dev-server" title="Direct link to webpack-dev-server">​</a></h3>
<p><code>4 =&gt; 5</code></p>
<p>修改了好多api，https，http这种。</p>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="babel">babel<a href="https://esboot.js.org/blog/esboot-3#babel" class="hash-link" aria-label="Direct link to babel" title="Direct link to babel">​</a></h3>
<ul>
<li>移除<a href="https://babeljs.io/docs/babel-plugin-syntax-dynamic-import" target="_blank" rel="noopener noreferrer">@babel/plugin-syntax-dynamic-import</a></li>
</ul>
<p>This plugin is included in @babel/preset-env, in ES2020。</p>
<ul>
<li>移除<a href="https://www.npmjs.com/package/babel-plugin-transform-react-remove-prop-types" target="_blank" rel="noopener noreferrer">babel-plugin-transform-react-remove-prop-types</a></li>
</ul>
<p>现在已经不用写prop type</p>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="husky">husky<a href="https://esboot.js.org/blog/esboot-3#husky" class="hash-link" aria-label="Direct link to husky" title="Direct link to husky">​</a></h3>
<p>最新是9，改成了<code>husky init</code>命令，但是发现升级也没有什么用处，就懒得升级了，还是用8.</p>
<p>但是有个新的更新，<code>.husky</code>目录放到了<code>config</code>目录下，根目录又会少一个文件。</p>
<h2 class="anchor anchorWithStickyNavbar_uiRs" id="command">command<a href="https://esboot.js.org/blog/esboot-3#command" class="hash-link" aria-label="Direct link to command" title="Direct link to command">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="prepare">prepare<a href="https://esboot.js.org/blog/esboot-3#prepare" class="hash-link" aria-label="Direct link to prepare" title="Direct link to prepare">​</a></h3>
<p><code>postinstall + g-alias</code> =&gt; <code>prepare</code></p>
<ul>
<li><code>prepare</code>就是去生成一些lint规则、ts规则这些/husky安装。</li>
<li><code>postinstall</code>有些语义不明。</li>
<li><code>g-alias</code>是刚开始设计不全，只考虑了生成<code>alias</code>后面发现需要准备的东西越来越多。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="exec_git_hooks">exec_git_hooks<a href="https://esboot.js.org/blog/esboot-3#exec_git_hooks" class="hash-link" aria-label="Direct link to exec_git_hooks" title="Direct link to exec_git_hooks">​</a></h3>
<p><code>commitlint / lint-staged</code> =&gt; <code>exec_git_hooks</code></p>
<p>Git hooks的两个钩子命令更新。</p>
<ul>
<li>封装的更内敛，更语义化。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="preview">preview<a href="https://esboot.js.org/blog/esboot-3#preview" class="hash-link" aria-label="Direct link to preview" title="Direct link to preview">​</a></h3>
<ul>
<li>使用<code>pnpx</code>启动，代替直接下载包。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_uiRs" id="config">Config<a href="https://esboot.js.org/blog/esboot-3#config" class="hash-link" aria-label="Direct link to Config" title="Direct link to Config">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="移除环境变量esboot_project_type增加issp配置">移除环境变量<code>ESBOOT_PROJECT_TYPE</code>，增加<code>isSP</code>配置<a href="https://esboot.js.org/blog/esboot-3#%E7%A7%BB%E9%99%A4%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8Fesboot_project_type%E5%A2%9E%E5%8A%A0issp%E9%85%8D%E7%BD%AE" class="hash-link" aria-label="Direct link to 移除环境变量esboot_project_type增加issp配置" title="Direct link to 移除环境变量esboot_project_type增加issp配置">​</a></h3>
<p>之间用来区分是<code>SP</code>还是<code>MP</code>，现在在<code>.esbootrc</code>中添加<code>isSP</code>配置。</p>
<p>原因：尽量减少环境变量，没有类型声明，可读性也不好。</p>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="更新jsminifiercssminifier">更新jsminifier/cssminifier<a href="https://esboot.js.org/blog/esboot-3#%E6%9B%B4%E6%96%B0jsminifiercssminifier" class="hash-link" aria-label="Direct link to 更新jsminifier/cssminifier" title="Direct link to 更新jsminifier/cssminifier">​</a></h3>
<p>移除lightningcss/swc(build不需要那么快，反而下包要太久了)，固定用TerserPlugin和nano。(放弃webpack里使用rust，直接寻求vite或者rspack)。</p>
<ul>
<li>去掉了rust包因为发现对打包的时间其实并不敏感，反而对下包的时间敏感，而且配置使用的不多。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="移除forktscheckerwebpackplugin">移除ForkTsCheckerWebpackPlugin<a href="https://esboot.js.org/blog/esboot-3#%E7%A7%BB%E9%99%A4forktscheckerwebpackplugin" class="hash-link" aria-label="Direct link to 移除ForkTsCheckerWebpackPlugin" title="Direct link to 移除ForkTsCheckerWebpackPlugin">​</a></h3>
<ul>
<li><code>ForkTsCheckerWebpackPlugin</code>因为激进的策略，所以几乎不会使用，所以实现后暂时移除。</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="customwebpack--customconfig"><code>customWebpack =&gt; customConfig</code><a href="https://esboot.js.org/blog/esboot-3#customwebpack--customconfig" class="hash-link" aria-label="Direct link to customwebpack--customconfig" title="Direct link to customwebpack--customconfig">​</a></h3>
<p>现在有多个<code>bundler</code>，<code>customConfig</code>这个配置更抽象一些。</p>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="增加-minimize">增加 <code>minimize</code><a href="https://esboot.js.org/blog/esboot-3#%E5%A2%9E%E5%8A%A0-minimize" class="hash-link" aria-label="Direct link to 增加-minimize" title="Direct link to 增加-minimize">​</a></h3>
<p>用来控制是否压缩代码。</p>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="增加-server-配置">增加 <code>server</code> 配置<a href="https://esboot.js.org/blog/esboot-3#%E5%A2%9E%E5%8A%A0-server-%E9%85%8D%E7%BD%AE" class="hash-link" aria-label="Direct link to 增加-server-配置" title="Direct link to 增加-server-配置">​</a></h3>
<p>将<code>server</code>的配置独立出来，结构更清晰，包含<code>host</code>、<code>https</code>、<code>open</code>、<code>port</code>、<code>proxy</code>。</p>
<div class="language-ts codeBlockContainer_z_qO theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_stqI"><pre tabindex="0" class="prism-code language-ts codeBlock_AYMj thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xMUx"><span class="token-line" style="color:#393A34"><span class="token plain">server</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  host</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  https</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">boolean</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  open</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">boolean</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  port</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">number</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  proxy</span><span class="token operator" style="color:#393A34">?</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Proxy</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_tJSQ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_d5hY" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_NvF3"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Wfrf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_uiRs" id="配置文件">配置文件<a href="https://esboot.js.org/blog/esboot-3#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6" class="hash-link" aria-label="Direct link to 配置文件" title="Direct link to 配置文件">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="stylintconfig">stylintconfig<a href="https://esboot.js.org/blog/esboot-3#stylintconfig" class="hash-link" aria-label="Direct link to stylintconfig" title="Direct link to stylintconfig">​</a></h3>
<ul>
<li>stylintconfig 地址修改，版本锁死</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_uiRs" id="插件">插件<a href="https://esboot.js.org/blog/esboot-3#%E6%8F%92%E4%BB%B6" class="hash-link" aria-label="Direct link to 插件" title="Direct link to 插件">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="重构插件机制">重构插件机制<a href="https://esboot.js.org/blog/esboot-3#%E9%87%8D%E6%9E%84%E6%8F%92%E4%BB%B6%E6%9C%BA%E5%88%B6" class="hash-link" aria-label="Direct link to 重构插件机制" title="Direct link to 重构插件机制">​</a></h3>
<p><code>240927</code></p>
<p>更合理的架构设计，更具扩展性的API。</p>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="内置支持tailwindcss">内置支持tailwindcss<a href="https://esboot.js.org/blog/esboot-3#%E5%86%85%E7%BD%AE%E6%94%AF%E6%8C%81tailwindcss" class="hash-link" aria-label="Direct link to 内置支持tailwindcss" title="Direct link to 内置支持tailwindcss">​</a></h3>
<p><code>240810</code></p>
<p>tailwindcss刚开始抽成插件是因为只是一个实验性的功能，经过多个项目的实验发现很好用，所以v3版本内置支持。</p>
<h2 class="anchor anchorWithStickyNavbar_uiRs" id="工具">工具<a href="https://esboot.js.org/blog/esboot-3#%E5%B7%A5%E5%85%B7" class="hash-link" aria-label="Direct link to 工具" title="Direct link to 工具">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="添加vscode-extension-esboot">添加vscode-extension-esboot<a href="https://esboot.js.org/blog/esboot-3#%E6%B7%BB%E5%8A%A0vscode-extension-esboot" class="hash-link" aria-label="Direct link to 添加vscode-extension-esboot" title="Direct link to 添加vscode-extension-esboot">​</a></h3>
<p>初步支持GUI操作环境变量，后续会添加更多功能(看情况)。</p>
<p>因为环境变量没有类型提示，但是某些情况很需要。但是现有的环境变量我都记不住，反正我记不住，特别是只想启动某些页面的时候。</p>
<h2 class="anchor anchorWithStickyNavbar_uiRs" id="eslint规则更新">ESLint规则更新<a href="https://esboot.js.org/blog/esboot-3#eslint%E8%A7%84%E5%88%99%E6%9B%B4%E6%96%B0" class="hash-link" aria-label="Direct link to ESLint规则更新" title="Direct link to ESLint规则更新">​</a></h2>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="增加规则禁止引用非自己平台的代码">增加规则，禁止引用非自己平台的代码<a href="https://esboot.js.org/blog/esboot-3#%E5%A2%9E%E5%8A%A0%E8%A7%84%E5%88%99%E7%A6%81%E6%AD%A2%E5%BC%95%E7%94%A8%E9%9D%9E%E8%87%AA%E5%B7%B1%E5%B9%B3%E5%8F%B0%E7%9A%84%E4%BB%A3%E7%A0%81" class="hash-link" aria-label="Direct link to 增加规则，禁止引用非自己平台的代码" title="Direct link to 增加规则，禁止引用非自己平台的代码">​</a></h3>
<p>已经提前在<code>esboot v2</code>上实现了。</p>
<h2 class="anchor anchorWithStickyNavbar_uiRs" id="移除hooks使用">移除Hooks使用<a href="https://esboot.js.org/blog/esboot-3#%E7%A7%BB%E9%99%A4hooks%E4%BD%BF%E7%94%A8" class="hash-link" aria-label="Direct link to 移除Hooks使用" title="Direct link to 移除Hooks使用">​</a></h2>
<p>之前使用的<code>afterHooks</code>是一个没有经过深思熟虑的设计，在<code>v3</code>中移除。完全使用<code>plugin</code>机制替代。例如v2经常使用的</p>
<div class="language-ts codeBlockContainer_z_qO theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_stqI"><pre tabindex="0" class="prism-code language-ts codeBlock_AYMj thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xMUx"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">afterHooks</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cfg</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Object</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">entries</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cfg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_entry</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'&lt;-- cfg'</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_tJSQ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_d5hY" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_NvF3"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Wfrf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>在v3中，可以完全使用<code>plugin</code>机制替代。</p>
<div class="language-ts codeBlockContainer_z_qO theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_stqI"><pre tabindex="0" class="prism-code language-ts codeBlock_AYMj thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_xMUx"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> defineConfig</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">type</span><span class="token plain"> </span><span class="token class-name">Configuration</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> PluginHooks </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'@dz-web/esboot'</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">default</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">defineConfig</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  plugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      key</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'plugin-log'</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">PluginHooks</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">afterCompile</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cfg</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cfg</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">entry</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup_tJSQ"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_d5hY" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_NvF3"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_Wfrf"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_uiRs" id="其他功能">其他功能<a href="https://esboot.js.org/blog/esboot-3#%E5%85%B6%E4%BB%96%E5%8A%9F%E8%83%BD" class="hash-link" aria-label="Direct link to 其他功能" title="Direct link to 其他功能">​</a></h2>
<ul>
<li><code>build</code>优化，<code>CI</code>环境禁止使用缓存、也不使用<code>webpackbar</code>。</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_uiRs" id="待完成功能">待完成功能<a href="https://esboot.js.org/blog/esboot-3#%E5%BE%85%E5%AE%8C%E6%88%90%E5%8A%9F%E8%83%BD" class="hash-link" aria-label="Direct link to 待完成功能" title="Direct link to 待完成功能">​</a></h2>
<ul class="contains-task-list containsTaskList_FHSZ">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->⭐️ 支持RSPack</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->⭐️ 支持changelogs</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->⭐️ 优化项目文档</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="feature">Feature<a href="https://esboot.js.org/blog/esboot-3#feature" class="hash-link" aria-label="Direct link to Feature" title="Direct link to Feature">​</a></h3>
<ul class="contains-task-list containsTaskList_FHSZ">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->支持mock</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->支持多端同时开发</li>
<li class="task-list-item"><input type="checkbox" disabled="" checked=""> <!-- -->扩展tailwind内置 cva和cn</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->svgo配置</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="plugins">Plugins<a href="https://esboot.js.org/blog/esboot-3#plugins" class="hash-link" aria-label="Direct link to Plugins" title="Direct link to Plugins">​</a></h3>
<h4 class="anchor anchorWithStickyNavbar_uiRs" id="vitest">Vitest<a href="https://esboot.js.org/blog/esboot-3#vitest" class="hash-link" aria-label="Direct link to Vitest" title="Direct link to Vitest">​</a></h4>
<ul class="contains-task-list containsTaskList_FHSZ">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->测试覆盖率</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->多平台同步测试</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_uiRs" id="bugs">Bugs<a href="https://esboot.js.org/blog/esboot-3#bugs" class="hash-link" aria-label="Direct link to Bugs" title="Direct link to Bugs">​</a></h3>
<ul class="contains-task-list containsTaskList_FHSZ">
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->bug: tree-shaking失败</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->bug: 物理缓存</li>
<li class="task-list-item"><input type="checkbox" disabled=""> <!-- -->bug: mfsu-引入第三方css问题(antd-mobile的日期选择组件)</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_uiRs" id="从v2迁移到v3">从v2迁移到v3<a href="https://esboot.js.org/blog/esboot-3#%E4%BB%8Ev2%E8%BF%81%E7%A7%BB%E5%88%B0v3" class="hash-link" aria-label="Direct link to 从v2迁移到v3" title="Direct link to 从v2迁移到v3">​</a></h2>
<p>参考<a href="https://esboot.js.org/docs/3.0/docs/migration/migration-v3">迁移到v3</a></p>]]></content:encoded>
            <category>Release</category>
        </item>
    </channel>
</rss>